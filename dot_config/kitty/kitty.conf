# Theme (Osaka Jade)
include ~/.config/omarchy/current/theme/kitty.conf

# Override cursor color to accent
cursor #f0d090
cursor_text_color #0f1419

# ══════════════════════════════════════════════════════════════════════════════
# FONT CONFIGURATION
# ══════════════════════════════════════════════════════════════════════════════
font_family      CommitMono Nerd Font
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        10.0

# Lepsze renderowanie fontów
text_composition_strategy platform
disable_ligatures never

# ══════════════════════════════════════════════════════════════════════════════
# WINDOW & APPEARANCE
# ══════════════════════════════════════════════════════════════════════════════
window_padding_width  16
window_padding_height 16
hide_window_decorations yes
show_window_resize_notification no
confirm_os_window_close 0

# Transparentność tła
background_opacity 0.92
background_blur 32

# Zaokrąglone rogi okien
wayland_titlebar_color background

# ══════════════════════════════════════════════════════════════════════════════
# CURSOR
# ══════════════════════════════════════════════════════════════════════════════
cursor_shape underline
cursor_underline_thickness 2.5
cursor_blink_interval 0.5
cursor_stop_blinking_after 15.0
cursor_trail 3
cursor_trail_decay 0.1 0.3
cursor_trail_start_threshold 2

# ══════════════════════════════════════════════════════════════════════════════
# SCROLLBACK & PERFORMANCE
# ══════════════════════════════════════════════════════════════════════════════
scrollback_lines 10000
scrollback_pager_history_size 100
wheel_scroll_multiplier 3.0
touch_scroll_multiplier 2.0

# Wydajność
repaint_delay 6
input_delay 1
sync_to_monitor yes

# ══════════════════════════════════════════════════════════════════════════════
# TAB BAR
# ══════════════════════════════════════════════════════════════════════════════
tab_bar_edge bottom
tab_bar_style powerline
tab_powerline_style round
tab_bar_min_tabs 1
tab_bar_margin_width 4.0
tab_bar_margin_height 4.0 0.0

tab_title_template " {fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{index}: {title[:20]} "
active_tab_title_template " {fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{index}: {title[:25]} "

active_tab_font_style bold
inactive_tab_font_style normal

# ══════════════════════════════════════════════════════════════════════════════
# WINDOW LAYOUTS
# ══════════════════════════════════════════════════════════════════════════════
enabled_layouts splits,tall,fat,grid,horizontal,vertical,stack
window_border_width 1pt
draw_minimal_borders yes
inactive_text_alpha 0.8

# ══════════════════════════════════════════════════════════════════════════════
# AUDIO & VISUAL BELL
# ══════════════════════════════════════════════════════════════════════════════
enable_audio_bell no
visual_bell_duration 0
window_alert_on_bell yes
bell_on_tab "* "

# ══════════════════════════════════════════════════════════════════════════════
# URL & LINKS
# ══════════════════════════════════════════════════════════════════════════════
url_style curly
detect_urls yes
open_url_with default
url_prefixes file ftp ftps gemini git gopher http https irc ircs kitty mailto news sftp ssh

# ══════════════════════════════════════════════════════════════════════════════
# KEYBINDINGS
# ══════════════════════════════════════════════════════════════════════════════

# Clipboard
map ctrl+shift+c copy_to_clipboard
map ctrl+shift+v paste_from_clipboard
map ctrl+insert copy_to_clipboard
map shift+insert paste_from_clipboard

# Font size
map ctrl+plus change_font_size all +1.0
map ctrl+minus change_font_size all -1.0
map ctrl+0 change_font_size all 0

# Tabs
map ctrl+shift+t new_tab_with_cwd
map ctrl+shift+w close_tab
map ctrl+tab next_tab
map ctrl+shift+tab previous_tab
map ctrl+shift+. move_tab_forward
map ctrl+shift+, move_tab_backward

# Windows/Splits
map ctrl+shift+enter new_window_with_cwd
map ctrl+shift+h neighboring_window left
map ctrl+shift+l neighboring_window right
map ctrl+shift+k neighboring_window up
map ctrl+shift+j neighboring_window down
map ctrl+shift+q close_window

# Layouts
map ctrl+shift+space next_layout
map ctrl+shift+z toggle_layout stack

# Scrolling
map ctrl+shift+page_up scroll_page_up
map ctrl+shift+page_down scroll_page_down
map ctrl+shift+home scroll_home
map ctrl+shift+end scroll_end

# Hints (kitten)
map ctrl+shift+e open_url_with_hints
map ctrl+shift+p>f kitten hints --type path --program -
map ctrl+shift+p>h kitten hints --type hash --program -

# ══════════════════════════════════════════════════════════════════════════════
# REMOTE CONTROL & MISC
# ══════════════════════════════════════════════════════════════════════════════
single_instance yes
allow_remote_control yes
listen_on unix:@kitty

# Shell integration (no-cursor = shell nie zmienia kształtu kursora)
shell_integration no-cursor
